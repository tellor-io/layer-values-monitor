# =============================================================================
# LAYER VALUES MONITOR CONFIGURATION
# =============================================================================

# Global default thresholds for all queries
# These serve as fallback values when no specific config exists
[global_defaults]

    [global_defaults.percentage]
    alert_threshold = 0.1       # Alert if deviation > 10%
    warning_threshold = 0.25    # Warning dispute if > 25%
    minor_threshold = 0.99      # Minor dispute if > 99%
    major_threshold = 0.0       # No major disputes
    pause_threshold = 0.2       # Pause if deviation > 20% (for saga guardians only)

    [global_defaults.equality]
    alert_threshold = 1.0       # Alert if values don't match
    warning_threshold = 0.0     # No warning disputes
    minor_threshold = 0.0       # No minor disputes
    major_threshold = 0.0       # No major disputes
    pause_threshold = 0.0       # No pausing for equality checks

    [global_defaults.range]
    alert_threshold = 100.0     # Alert if difference > 100
    warning_threshold = 200.0   # Warning dispute if > 200
    minor_threshold = 500.0     # Minor dispute if > 500
    major_threshold = 1000.0    # Major dispute if > 1000
    pause_threshold = 0.0       # No pausing for range checks

# =============================================================================
# QUERY TYPE DEFINITIONS
# =============================================================================

[query_types]

    spotprice = { metric = "percentage", description = "Price feeds", handler = "telliot_feeds" }
    trbbridge = { metric = "equality", description = "TRB bridge reports", handler = "trb_bridge" }
    evmcall = { metric = "equality", description = "EVM call reports", handler = "evm_call" }

# =============================================================================
# QUERY CONFIGURATIONS
# =============================================================================
# fields populated below will override global defaults

[queries.spotprice]

    # ETH/USD 
    [queries.spotprice.83a7f3d48786ac2667503a61e8c415438ed2922eb86a2906e4ee66d9a2ce4992]
    alert_threshold = 0.1                   # 10% alert threshold
    datafeed_ca = "0x0cD65ca12F6c9b10254FABC0CC62d273ABbb3d84"

    # BTC/USD 
    [queries.spotprice.a6f013ee236804827b77696d350e9f0ac3e879328f2a3021d473a0b778ad78ac]
    alert_threshold = 0.05                   # 5% alert threshold (tighter monitoring)
    datafeed_ca = "0x4a397383fE5FbE9AB33879869153fF40ea68815F"

    # TRB/USD 
    [queries.spotprice.5c13cd9c97dbb98f2429c101a2a8150e6c7a0ddaff6124ee176a3a411067ded0]
    alert_threshold = 0.10                   # 10% alert threshold
    datafeed_ca = ""                         

[queries.trbbridge]

    [queries.trbbridge.defaults]
    # Uses equality defaults from global_defaults

[queries.evmcall]

    [queries.evmcall.defaults]
    # Uses equality defaults from global_defaults
